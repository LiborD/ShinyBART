---
title: "Shiny BART"
author: "Nathaniel Phillips"
date: "18 January 2017"
output: html_document
---

```{r setup, include=FALSE, echo = FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


## Task Description

This app runs the Balloon Analogue Risk Task (BART), a measure developed by @lejuez2002evaluation as a behavioral measure of risk taking.

## Examples

Here are some examples of ShinyBART you can play right now!

| Name| Link| Code | 
|:----------------------|:---------------|:--------------|
| 15 Balloons| [https://econpsychbasel.shinyapps.io/ShinyBART/](https://econpsychbasel.shinyapps.io/ShinyBART/)| [GitHub Source Code](https://github.com/ndphillips/ShinyBandit/blob/master/ShinyBandit_app.R)|


# Using the Application

The game is stored in the `ShinyBART_app.R` file. The app is separated into several sections:

| Section|  Description
|:-----------------|:------------------------------------- | 
| 0: Load Libraries| Load all libraries necessary to run the application. Be sure to include `shiny` for all Shiny functions, `rdrop2` for Dropbox integration, and `sendmailR` for sending data as emails.|
| A: Setup the game| Define game parameters (A1), define how data will be saved (A2)|
| B: Overall Layout | Define the app title and add custom CSS tags.|
| C: Reactive Values |Define the reactive values which store user inputs throughout the game. `CurrentValues` stores up-to-date (scaler) values of critical game parameters, while `GameValues` stores historical (vector) data|
|D: Page Layouts | The content and layout of distinct pages (e.g.; welcome page, instructions page, game page) |
| E: Game Display | The main game display and example game displays (E1) |
| F: Event (button) actions | Define the result of buttons such as page navigation (F1) and event tracking such as pumps (F2)|
| G: Save data | Define how data is saved and exported|

## Uploading data to Dropbox

In order to upload data to Dropbox, you must include a file called `droptoken.rds` containing your dropbox authentication token. This file must be in the same folder as the main application file `ShinyBanditMulti_app.R`. You can create this file by running the following:

```{r eval = FALSE}
install.packages("rdrop2")                 # install rdrop2 packagre
droptoken <- rdrop2::drop_auth()           # Will open a browser and ask you to login
saveRDS(droptoken, file = "droptoken.rds") # Save token as droptoken.rds
```

You can specify the folder to save your data in with the `outputDir` object (This object will later on be passed to the `rdrop2::drop_upload()` function when it is time to actually save the data). For example, `outputDir <- "ShinyApp/data"` will save the data to a data folder contained in a ShinyApp folder. 

## Emailing data



## Notes


